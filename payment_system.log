2017-10-16 01:28:14.960  INFO 5484 --- [main] c.i.p.api.rest.AccountControllerTest     : Starting AccountControllerTest on user with PID 5484 (started by samsung in I:\Mahendra\Projects\PaymentSystem)
2017-10-16 01:28:14.962  INFO 5484 --- [main] c.i.p.api.rest.AccountControllerTest     : The following profiles are active: test
2017-10-16 01:28:15.167  INFO 5484 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1bffc17: startup date [Mon Oct 16 01:28:15 IST 2017]; root of context hierarchy
2017-10-16 01:28:20.691  INFO 5484 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2dcadbf8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2017-10-16 01:28:22.366  INFO 5484 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-10-16 01:28:22.472  INFO 5484 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-10-16 01:28:23.000  INFO 5484 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-10-16 01:28:23.004  INFO 5484 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-10-16 01:28:23.008  INFO 5484 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-10-16 01:28:23.209  INFO 5484 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-16 01:28:23.774  INFO 5484 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2017-10-16 01:28:26.263  INFO 5484 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 01:28:26.308  INFO 5484 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 01:28:26.409  INFO 5484 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 01:28:28.771  INFO 5484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account/transferAmount],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.transferBalance(com.ingenico.payment.domain.dto.TransfterInfoDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:28:28.775  INFO 5484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.createAccount(com.ingenico.payment.domain.dto.AccountDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:28:28.776  INFO 5484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[GET],produces=[application/json || application/xml]}" onto public java.util.List<com.ingenico.payment.domain.dto.AccountDTO> com.ingenico.payment.api.rest.AccountController.getAccounts(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:28:28.780  INFO 5484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2017-10-16 01:28:28.788  INFO 5484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2017-10-16 01:28:28.791  INFO 5484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2017-10-16 01:28:28.793  INFO 5484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2017-10-16 01:28:28.815  INFO 5484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-10-16 01:28:28.816  INFO 5484 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:28:30.410  INFO 5484 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1bffc17: startup date [Mon Oct 16 01:28:15 IST 2017]; root of context hierarchy
2017-10-16 01:28:30.569  INFO 5484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 01:28:30.570  INFO 5484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 01:28:30.694  INFO 5484 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 01:28:31.535  INFO 5484 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 9ef2032b-58c5-45ab-9fff-255c109d0c6a

2017-10-16 01:28:31.652  INFO 5484 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2017-10-16 01:28:31.652  INFO 5484 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.actuate.autoconfigure.ManagementWebSecurityAutoConfiguration$LazyEndpointPathRequestMatcher@993306, []
2017-10-16 01:28:31.800  INFO 5484 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@5d6640, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12d8370, org.springframework.security.web.context.SecurityContextPersistenceFilter@fb9581, org.springframework.security.web.header.HeaderWriterFilter@861d9e, org.springframework.security.web.csrf.CsrfFilter@11c63af, org.springframework.security.web.authentication.logout.LogoutFilter@e6458d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16b681c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1749c2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1137835, org.springframework.security.web.session.SessionManagementFilter@1d42275, org.springframework.security.web.access.ExceptionTranslationFilter@200670]
2017-10-16 01:28:33.330  WARN 5484 --- [main] .s.b.a.a.EndpointWebMvcAutoConfiguration : Could not start embedded management container on different port (management endpoints are still available through JMX)
2017-10-16 01:28:33.341  INFO 5484 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2017-10-16 01:28:33.343  INFO 5484 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2017-10-16 01:28:33.487  INFO 5484 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2017-10-16 01:28:33.526  INFO 5484 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2017-10-16 01:28:34.137  INFO 5484 --- [main] c.i.p.api.rest.AccountControllerTest     : Started AccountControllerTest in 20.529 seconds (JVM running for 22.366)
2017-10-16 01:28:34.498  INFO 5484 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-10-16 01:28:34.499  INFO 5484 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-10-16 01:28:34.536  INFO 5484 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 37 ms
2017-10-16 01:28:34.620  INFO 5484 --- [main] c.i.payment.api.rest.AccountController   : Rest request to get all accounts.
2017-10-16 01:28:34.620  INFO 5484 --- [main] c.i.payment.service.AccountService       : Fetching all accounts from database 
2017-10-16 01:28:34.724  INFO 5484 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-10-16 01:28:35.066  INFO 5484 --- [main] c.i.payment.service.AccountService       : All accounts present in database are : [] 
2017-10-16 01:28:35.245  INFO 5484 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1bffc17: startup date [Mon Oct 16 01:28:15 IST 2017]; root of context hierarchy
2017-10-16 01:28:35.252  INFO 5484 --- [Thread-4] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2017-10-16 01:28:35.268  INFO 5484 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 01:28:35.269  INFO 5484 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 01:28:35.285 ERROR 5484 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000231: Schema export unsuccessful

org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-193]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:144) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1483) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1458) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:457) ~[h2-1.4.193.jar:1.4.193]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-8.5.16.jar:na]
	at com.sun.proxy.$Proxy91.getAutoCommit(Unknown Source) ~[na:na]
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:34) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:35) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:425) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:375) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:371) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1081) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:347) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:459) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:630) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at com.sun.proxy.$Proxy99.close(Unknown Source) [na:na]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:550) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:272) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.destroySingletons(FactoryBeanRegistrySupport.java:230) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1030) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1006) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext$2.run(AbstractApplicationContext.java:929) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]

2017-10-16 01:28:35.287  INFO 5484 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 01:52:12.216  INFO 1728 --- [main] c.i.p.api.rest.AccountControllerTest     : Starting AccountControllerTest on user with PID 1728 (started by samsung in I:\Mahendra\Projects\PaymentSystem)
2017-10-16 01:52:12.248  INFO 1728 --- [main] c.i.p.api.rest.AccountControllerTest     : The following profiles are active: test
2017-10-16 01:52:12.391  INFO 1728 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@18fc1d8: startup date [Mon Oct 16 01:52:12 IST 2017]; root of context hierarchy
2017-10-16 01:52:17.149  INFO 1728 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$64ca07ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2017-10-16 01:52:18.620  INFO 1728 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-10-16 01:52:18.676  INFO 1728 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-10-16 01:52:18.880  INFO 1728 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-10-16 01:52:18.886  INFO 1728 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-10-16 01:52:18.892  INFO 1728 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-10-16 01:52:19.019  INFO 1728 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-16 01:52:19.366  INFO 1728 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2017-10-16 01:52:21.292  INFO 1728 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 01:52:21.341  INFO 1728 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 01:52:21.469  INFO 1728 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 01:52:23.633  INFO 1728 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[GET],produces=[application/json || application/xml]}" onto public java.util.List<com.ingenico.payment.domain.dto.AccountDTO> com.ingenico.payment.api.rest.AccountController.getAccounts(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:52:23.636  INFO 1728 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account/transferAmount],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.transferBalance(com.ingenico.payment.domain.dto.TransfterInfoDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:52:23.638  INFO 1728 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.createAccount(com.ingenico.payment.domain.dto.AccountDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:52:23.641  INFO 1728 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2017-10-16 01:52:23.648  INFO 1728 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2017-10-16 01:52:23.650  INFO 1728 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2017-10-16 01:52:23.652  INFO 1728 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2017-10-16 01:52:23.663  INFO 1728 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-10-16 01:52:23.664  INFO 1728 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:52:25.085  INFO 1728 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@18fc1d8: startup date [Mon Oct 16 01:52:12 IST 2017]; root of context hierarchy
2017-10-16 01:52:25.262  INFO 1728 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 01:52:25.262  INFO 1728 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 01:52:25.383  INFO 1728 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 01:52:26.135  INFO 1728 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 923ae40b-9867-44bd-9267-3c76928c152e

2017-10-16 01:52:26.270  INFO 1728 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2017-10-16 01:52:26.270  INFO 1728 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.actuate.autoconfigure.ManagementWebSecurityAutoConfiguration$LazyEndpointPathRequestMatcher@d71ee2, []
2017-10-16 01:52:26.426  INFO 1728 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@f649a7, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8c65e0, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e22365, org.springframework.security.web.header.HeaderWriterFilter@1c59ab7, org.springframework.security.web.csrf.CsrfFilter@dc150c, org.springframework.security.web.authentication.logout.LogoutFilter@b194f5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1bdaa81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c5a105, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fa5938, org.springframework.security.web.session.SessionManagementFilter@12ec287, org.springframework.security.web.access.ExceptionTranslationFilter@180e411]
2017-10-16 01:52:27.900  WARN 1728 --- [main] .s.b.a.a.EndpointWebMvcAutoConfiguration : Could not start embedded management container on different port (management endpoints are still available through JMX)
2017-10-16 01:52:27.907  INFO 1728 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2017-10-16 01:52:27.908  INFO 1728 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2017-10-16 01:52:27.964  INFO 1728 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2017-10-16 01:52:27.985  INFO 1728 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2017-10-16 01:52:28.428  INFO 1728 --- [main] c.i.p.api.rest.AccountControllerTest     : Started AccountControllerTest in 17.175 seconds (JVM running for 19.151)
2017-10-16 01:52:28.665  INFO 1728 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-10-16 01:52:28.666  INFO 1728 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-10-16 01:52:28.718  INFO 1728 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 50 ms
2017-10-16 01:52:29.520  INFO 1728 --- [main] c.i.payment.api.rest.AccountController   : Rest request to create account : [AccountDTO : Name : Mahendra, balance : 7000.0] 
2017-10-16 01:52:29.520  INFO 1728 --- [main] c.i.payment.service.AccountService       : Saving account : [AccountDTO : Name : Mahendra, balance : 7000.0] to database.
2017-10-16 01:52:30.086  INFO 1728 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@18fc1d8: startup date [Mon Oct 16 01:52:12 IST 2017]; root of context hierarchy
2017-10-16 01:52:30.093  INFO 1728 --- [Thread-4] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2017-10-16 01:52:31.090  INFO 1728 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 01:52:31.092  INFO 1728 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 01:52:31.112 ERROR 1728 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000231: Schema export unsuccessful

org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-193]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:144) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1483) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1458) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:457) ~[h2-1.4.193.jar:1.4.193]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-8.5.16.jar:na]
	at com.sun.proxy.$Proxy91.getAutoCommit(Unknown Source) ~[na:na]
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:34) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:35) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:425) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:375) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:371) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1081) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:347) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:459) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:630) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at com.sun.proxy.$Proxy99.close(Unknown Source) [na:na]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:550) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:272) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.destroySingletons(FactoryBeanRegistrySupport.java:230) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1030) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1006) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext$2.run(AbstractApplicationContext.java:929) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]

2017-10-16 01:52:31.115  INFO 1728 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 01:55:34.640  INFO 5488 --- [main] c.i.p.api.rest.AccountControllerTest     : Starting AccountControllerTest on user with PID 5488 (started by samsung in I:\Mahendra\Projects\PaymentSystem)
2017-10-16 01:55:34.642  INFO 5488 --- [main] c.i.p.api.rest.AccountControllerTest     : The following profiles are active: test
2017-10-16 01:55:34.770  INFO 5488 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1a34df2: startup date [Mon Oct 16 01:55:34 IST 2017]; root of context hierarchy
2017-10-16 01:55:39.412  INFO 5488 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c320f992] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2017-10-16 01:55:40.813  INFO 5488 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-10-16 01:55:40.863  INFO 5488 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-10-16 01:55:41.096  INFO 5488 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-10-16 01:55:41.103  INFO 5488 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-10-16 01:55:41.112  INFO 5488 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-10-16 01:55:41.268  INFO 5488 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-16 01:55:41.643  INFO 5488 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2017-10-16 01:55:43.574  INFO 5488 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 01:55:43.622  INFO 5488 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 01:55:43.728  INFO 5488 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 01:55:45.768  INFO 5488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[GET],produces=[application/json || application/xml]}" onto public java.util.List<com.ingenico.payment.domain.dto.AccountDTO> com.ingenico.payment.api.rest.AccountController.getAccounts(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:55:45.773  INFO 5488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account/transferAmount],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.transferBalance(com.ingenico.payment.domain.dto.TransfterInfoDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:55:45.777  INFO 5488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.createAccount(com.ingenico.payment.domain.dto.AccountDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:55:45.784  INFO 5488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2017-10-16 01:55:45.798  INFO 5488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2017-10-16 01:55:45.799  INFO 5488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2017-10-16 01:55:45.801  INFO 5488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2017-10-16 01:55:45.810  INFO 5488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-10-16 01:55:45.812  INFO 5488 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 01:55:47.341  INFO 5488 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1a34df2: startup date [Mon Oct 16 01:55:34 IST 2017]; root of context hierarchy
2017-10-16 01:55:47.507  INFO 5488 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 01:55:47.507  INFO 5488 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 01:55:47.618  INFO 5488 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 01:55:48.371  INFO 5488 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: a9a77f1c-b62f-4abd-b390-fcd12868d598

2017-10-16 01:55:48.474  INFO 5488 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2017-10-16 01:55:48.475  INFO 5488 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.actuate.autoconfigure.ManagementWebSecurityAutoConfiguration$LazyEndpointPathRequestMatcher@19d8e46, []
2017-10-16 01:55:48.634  INFO 5488 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@988299, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78feb2, org.springframework.security.web.context.SecurityContextPersistenceFilter@b7497b, org.springframework.security.web.header.HeaderWriterFilter@1d877bb, org.springframework.security.web.csrf.CsrfFilter@b9fa2f, org.springframework.security.web.authentication.logout.LogoutFilter@1443680, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8c65e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8986b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18390b, org.springframework.security.web.session.SessionManagementFilter@1f9f715, org.springframework.security.web.access.ExceptionTranslationFilter@3c4b3e]
2017-10-16 01:55:50.035  WARN 5488 --- [main] .s.b.a.a.EndpointWebMvcAutoConfiguration : Could not start embedded management container on different port (management endpoints are still available through JMX)
2017-10-16 01:55:50.043  INFO 5488 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2017-10-16 01:55:50.044  INFO 5488 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2017-10-16 01:55:50.105  INFO 5488 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2017-10-16 01:55:50.141  INFO 5488 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2017-10-16 01:55:50.566  INFO 5488 --- [main] c.i.p.api.rest.AccountControllerTest     : Started AccountControllerTest in 16.921 seconds (JVM running for 18.687)
2017-10-16 01:55:50.894  INFO 5488 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-10-16 01:55:50.894  INFO 5488 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-10-16 01:55:50.931  INFO 5488 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 37 ms
2017-10-16 01:55:51.147  INFO 5488 --- [main] c.i.payment.api.rest.AccountController   : Rest request to create account : [AccountDTO : Name : Mahendra, balance : 7000.0] 
2017-10-16 01:55:51.148  INFO 5488 --- [main] c.i.payment.service.AccountService       : Saving account : [AccountDTO : Name : Mahendra, balance : 7000.0] to database.
2017-10-16 01:55:51.312  INFO 5488 --- [main] c.i.payment.api.rest.AccountController   : Rest request to get all accounts.
2017-10-16 01:55:51.312  INFO 5488 --- [main] c.i.payment.service.AccountService       : Fetching all accounts from database 
2017-10-16 01:55:51.351  INFO 5488 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-10-16 01:55:51.630  INFO 5488 --- [main] c.i.payment.service.AccountService       : All accounts present in database are : [Account [id=1, name=Mahendra, balance= 7000.0]] 
2017-10-16 01:55:51.764  INFO 5488 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1a34df2: startup date [Mon Oct 16 01:55:34 IST 2017]; root of context hierarchy
2017-10-16 01:55:51.773  INFO 5488 --- [Thread-4] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2017-10-16 01:55:51.789  INFO 5488 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 01:55:51.790  INFO 5488 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 01:55:51.807 ERROR 5488 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000231: Schema export unsuccessful

org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-193]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:144) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1483) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1458) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:457) ~[h2-1.4.193.jar:1.4.193]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-8.5.16.jar:na]
	at com.sun.proxy.$Proxy91.getAutoCommit(Unknown Source) ~[na:na]
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:34) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:35) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:425) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:375) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:371) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1081) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:347) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:459) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:630) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at com.sun.proxy.$Proxy99.close(Unknown Source) [na:na]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:550) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:272) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.destroySingletons(FactoryBeanRegistrySupport.java:230) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1030) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1006) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext$2.run(AbstractApplicationContext.java:929) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]

2017-10-16 01:55:51.809  INFO 5488 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 01:59:57.254  INFO 5412 --- [main] c.i.p.api.rest.AccountControllerTest     : Starting AccountControllerTest on user with PID 5412 (started by samsung in I:\Mahendra\Projects\PaymentSystem)
2017-10-16 01:59:57.257  INFO 5412 --- [main] c.i.p.api.rest.AccountControllerTest     : The following profiles are active: test
2017-10-16 01:59:57.401  INFO 5412 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1a34df2: startup date [Mon Oct 16 01:59:57 IST 2017]; root of context hierarchy
2017-10-16 02:00:02.048  INFO 5412 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cd899b1e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2017-10-16 02:00:03.394  INFO 5412 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-10-16 02:00:03.440  INFO 5412 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-10-16 02:00:03.642  INFO 5412 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-10-16 02:00:03.648  INFO 5412 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-10-16 02:00:03.652  INFO 5412 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-10-16 02:00:03.774  INFO 5412 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-16 02:00:04.104  INFO 5412 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2017-10-16 02:00:06.059  INFO 5412 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 02:00:06.127  INFO 5412 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 02:00:06.290  INFO 5412 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 02:00:08.446  INFO 5412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.createAccount(com.ingenico.payment.domain.dto.AccountDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:00:08.451  INFO 5412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account/transferAmount],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.transferBalance(com.ingenico.payment.domain.dto.TransfterInfoDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:00:08.455  INFO 5412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[GET],produces=[application/json || application/xml]}" onto public java.util.List<com.ingenico.payment.domain.dto.AccountDTO> com.ingenico.payment.api.rest.AccountController.getAccounts(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:00:08.457  INFO 5412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2017-10-16 02:00:08.466  INFO 5412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2017-10-16 02:00:08.468  INFO 5412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2017-10-16 02:00:08.470  INFO 5412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2017-10-16 02:00:08.480  INFO 5412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-10-16 02:00:08.482  INFO 5412 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:00:09.825  INFO 5412 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1a34df2: startup date [Mon Oct 16 01:59:57 IST 2017]; root of context hierarchy
2017-10-16 02:00:09.994  INFO 5412 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:00:09.995  INFO 5412 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:00:10.113  INFO 5412 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:00:10.827  INFO 5412 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: e375a3bc-f2de-4092-a8f9-571ce5a4eeaf

2017-10-16 02:00:10.956  INFO 5412 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2017-10-16 02:00:10.957  INFO 5412 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.actuate.autoconfigure.ManagementWebSecurityAutoConfiguration$LazyEndpointPathRequestMatcher@3d0e8d, []
2017-10-16 02:00:11.109  INFO 5412 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@d2883a, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14b4fb, org.springframework.security.web.context.SecurityContextPersistenceFilter@12fa72a, org.springframework.security.web.header.HeaderWriterFilter@ebf524, org.springframework.security.web.csrf.CsrfFilter@4d778e, org.springframework.security.web.authentication.logout.LogoutFilter@8986b6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d87b2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8c65e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ca2579, org.springframework.security.web.session.SessionManagementFilter@1e46d9c, org.springframework.security.web.access.ExceptionTranslationFilter@1404aa2]
2017-10-16 02:00:12.681  WARN 5412 --- [main] .s.b.a.a.EndpointWebMvcAutoConfiguration : Could not start embedded management container on different port (management endpoints are still available through JMX)
2017-10-16 02:00:12.688  INFO 5412 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2017-10-16 02:00:12.689  INFO 5412 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2017-10-16 02:00:12.743  INFO 5412 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2017-10-16 02:00:12.772  INFO 5412 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2017-10-16 02:00:13.406  INFO 5412 --- [main] c.i.p.api.rest.AccountControllerTest     : Started AccountControllerTest in 17.131 seconds (JVM running for 18.885)
2017-10-16 02:00:13.568  INFO 5412 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-10-16 02:00:13.569  INFO 5412 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-10-16 02:00:13.605  INFO 5412 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 36 ms
2017-10-16 02:00:13.831  INFO 5412 --- [main] c.i.payment.api.rest.AccountController   : Rest request to create account : [AccountDTO : Name : Mahendra, balance : 7000.0] 
2017-10-16 02:00:13.831  INFO 5412 --- [main] c.i.payment.service.AccountService       : Saving account : [AccountDTO : Name : Mahendra, balance : 7000.0] to database.
2017-10-16 02:00:13.982  INFO 5412 --- [main] c.i.payment.api.rest.AccountController   : Rest request to get all accounts.
2017-10-16 02:00:13.982  INFO 5412 --- [main] c.i.payment.service.AccountService       : Fetching all accounts from database 
2017-10-16 02:00:14.017  INFO 5412 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-10-16 02:00:14.303  INFO 5412 --- [main] c.i.payment.service.AccountService       : All accounts present in database are : [Account [id=1, name=Mahendra, balance= 7000.0]] 
2017-10-16 02:00:14.399  INFO 5412 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1a34df2: startup date [Mon Oct 16 01:59:57 IST 2017]; root of context hierarchy
2017-10-16 02:00:14.410  INFO 5412 --- [Thread-4] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2017-10-16 02:00:14.427  INFO 5412 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 02:00:14.428  INFO 5412 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 02:00:14.442 ERROR 5412 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000231: Schema export unsuccessful

org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-193]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:144) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1483) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1458) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:457) ~[h2-1.4.193.jar:1.4.193]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-8.5.16.jar:na]
	at com.sun.proxy.$Proxy91.getAutoCommit(Unknown Source) ~[na:na]
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:34) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:35) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:425) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:375) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:371) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1081) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:347) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:459) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:630) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at com.sun.proxy.$Proxy99.close(Unknown Source) [na:na]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:550) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:272) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.destroySingletons(FactoryBeanRegistrySupport.java:230) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1030) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1006) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext$2.run(AbstractApplicationContext.java:929) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]

2017-10-16 02:00:14.446  INFO 5412 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 02:14:23.141  INFO 5936 --- [main] c.i.p.api.rest.AccountControllerTest     : Starting AccountControllerTest on user with PID 5936 (started by samsung in I:\Mahendra\Projects\PaymentSystem)
2017-10-16 02:14:23.143  INFO 5936 --- [main] c.i.p.api.rest.AccountControllerTest     : The following profiles are active: test
2017-10-16 02:14:23.275  INFO 5936 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1cb6996: startup date [Mon Oct 16 02:14:23 IST 2017]; root of context hierarchy
2017-10-16 02:14:28.054  INFO 5936 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ec420215] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2017-10-16 02:14:29.371  INFO 5936 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-10-16 02:14:29.436  INFO 5936 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-10-16 02:14:29.734  INFO 5936 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-10-16 02:14:29.742  INFO 5936 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-10-16 02:14:29.747  INFO 5936 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-10-16 02:14:29.904  INFO 5936 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-16 02:14:30.223  INFO 5936 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2017-10-16 02:14:32.124  INFO 5936 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 02:14:32.160  INFO 5936 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 02:14:32.252  INFO 5936 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 02:14:34.223  INFO 5936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account/transferAmount],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.transferBalance(com.ingenico.payment.domain.dto.TransfterInfoDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:14:34.227  INFO 5936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.createAccount(com.ingenico.payment.domain.dto.AccountDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:14:34.230  INFO 5936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[GET],produces=[application/json || application/xml]}" onto public java.util.List<com.ingenico.payment.domain.dto.AccountDTO> com.ingenico.payment.api.rest.AccountController.getAccounts(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:14:34.232  INFO 5936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2017-10-16 02:14:34.240  INFO 5936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2017-10-16 02:14:34.243  INFO 5936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2017-10-16 02:14:34.244  INFO 5936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2017-10-16 02:14:34.255  INFO 5936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-10-16 02:14:34.256  INFO 5936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:14:35.798  INFO 5936 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1cb6996: startup date [Mon Oct 16 02:14:23 IST 2017]; root of context hierarchy
2017-10-16 02:14:35.952  INFO 5936 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:14:35.953  INFO 5936 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:14:36.070  INFO 5936 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:14:36.819  INFO 5936 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 0e903db4-4542-4a4f-a716-3c73550ef7c2

2017-10-16 02:14:36.945  INFO 5936 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2017-10-16 02:14:36.946  INFO 5936 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.actuate.autoconfigure.ManagementWebSecurityAutoConfiguration$LazyEndpointPathRequestMatcher@131be30, []
2017-10-16 02:14:37.095  INFO 5936 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@b7497b, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f649a7, org.springframework.security.web.context.SecurityContextPersistenceFilter@1267745, org.springframework.security.web.header.HeaderWriterFilter@e67c06, org.springframework.security.web.csrf.CsrfFilter@15a7d1, org.springframework.security.web.authentication.logout.LogoutFilter@118a4d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ebf524, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d877bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8c65e0, org.springframework.security.web.session.SessionManagementFilter@e143ff, org.springframework.security.web.access.ExceptionTranslationFilter@b9fa2f]
2017-10-16 02:14:38.728  WARN 5936 --- [main] .s.b.a.a.EndpointWebMvcAutoConfiguration : Could not start embedded management container on different port (management endpoints are still available through JMX)
2017-10-16 02:14:38.736  INFO 5936 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2017-10-16 02:14:38.737  INFO 5936 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2017-10-16 02:14:38.789  INFO 5936 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2017-10-16 02:14:38.811  INFO 5936 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2017-10-16 02:14:39.192  INFO 5936 --- [main] c.i.p.api.rest.AccountControllerTest     : Started AccountControllerTest in 16.951 seconds (JVM running for 18.689)
2017-10-16 02:14:39.354  INFO 5936 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-10-16 02:14:39.354  INFO 5936 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-10-16 02:14:39.398  INFO 5936 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 43 ms
2017-10-16 02:14:39.610  INFO 5936 --- [main] c.i.payment.api.rest.AccountController   : Rest request to create account : [AccountDTO : Name : Mahendra, balance : 7000.0] 
2017-10-16 02:14:39.611  INFO 5936 --- [main] c.i.payment.service.AccountService       : Saving account : [AccountDTO : Name : Mahendra, balance : 7000.0] to database.
2017-10-16 02:14:39.766  INFO 5936 --- [main] c.i.payment.api.rest.AccountController   : Rest request to get all accounts.
2017-10-16 02:14:39.767  INFO 5936 --- [main] c.i.payment.service.AccountService       : Fetching all accounts from database 
2017-10-16 02:14:39.805  INFO 5936 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-10-16 02:14:40.079  INFO 5936 --- [main] c.i.payment.service.AccountService       : All accounts present in database are : [Account [id=1, name=Mahendra, balance= 7000.0]] 
2017-10-16 02:14:40.163  INFO 5936 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1cb6996: startup date [Mon Oct 16 02:14:23 IST 2017]; root of context hierarchy
2017-10-16 02:14:40.172  INFO 5936 --- [Thread-4] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2017-10-16 02:14:40.188  INFO 5936 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 02:14:40.189  INFO 5936 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 02:14:40.207 ERROR 5936 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000231: Schema export unsuccessful

org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-193]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:144) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1483) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1458) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:457) ~[h2-1.4.193.jar:1.4.193]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-8.5.16.jar:na]
	at com.sun.proxy.$Proxy91.getAutoCommit(Unknown Source) ~[na:na]
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:34) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:35) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:425) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:375) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:371) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1081) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:347) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:459) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:630) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at com.sun.proxy.$Proxy99.close(Unknown Source) [na:na]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:550) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:272) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.destroySingletons(FactoryBeanRegistrySupport.java:230) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1030) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1006) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext$2.run(AbstractApplicationContext.java:929) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]

2017-10-16 02:14:40.209  INFO 5936 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 02:24:29.676  INFO 7116 --- [main] c.i.p.api.rest.AccountControllerTest     : Starting AccountControllerTest on user with PID 7116 (started by samsung in I:\Mahendra\Projects\PaymentSystem)
2017-10-16 02:24:29.678  INFO 7116 --- [main] c.i.p.api.rest.AccountControllerTest     : The following profiles are active: test
2017-10-16 02:24:29.807  INFO 7116 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@c9d179: startup date [Mon Oct 16 02:24:29 IST 2017]; root of context hierarchy
2017-10-16 02:24:34.604  INFO 7116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9896174b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2017-10-16 02:24:36.022  INFO 7116 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-10-16 02:24:36.073  INFO 7116 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-10-16 02:24:36.320  INFO 7116 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-10-16 02:24:36.324  INFO 7116 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-10-16 02:24:36.328  INFO 7116 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-10-16 02:24:36.449  INFO 7116 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-16 02:24:36.769  INFO 7116 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2017-10-16 02:24:38.614  INFO 7116 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 02:24:38.649  INFO 7116 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 02:24:38.739  INFO 7116 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 02:24:40.577  INFO 7116 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account/transferAmount],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.transferBalance(com.ingenico.payment.domain.dto.TransfterInfoDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:24:40.580  INFO 7116 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.createAccount(com.ingenico.payment.domain.dto.AccountDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:24:40.581  INFO 7116 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[GET],produces=[application/json || application/xml]}" onto public java.util.List<com.ingenico.payment.domain.dto.AccountDTO> com.ingenico.payment.api.rest.AccountController.getAccounts(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:24:40.585  INFO 7116 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2017-10-16 02:24:40.593  INFO 7116 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2017-10-16 02:24:40.595  INFO 7116 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2017-10-16 02:24:40.597  INFO 7116 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2017-10-16 02:24:40.610  INFO 7116 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-10-16 02:24:40.611  INFO 7116 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:24:42.178  INFO 7116 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@c9d179: startup date [Mon Oct 16 02:24:29 IST 2017]; root of context hierarchy
2017-10-16 02:24:42.342  INFO 7116 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:24:42.342  INFO 7116 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:24:42.451  INFO 7116 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:24:43.210  INFO 7116 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: a6174a38-cf61-4518-b8da-81b74c222e8a

2017-10-16 02:24:43.331  INFO 7116 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2017-10-16 02:24:43.332  INFO 7116 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.actuate.autoconfigure.ManagementWebSecurityAutoConfiguration$LazyEndpointPathRequestMatcher@1d2430f, []
2017-10-16 02:24:43.493  INFO 7116 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@e91f6d, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d4024e, org.springframework.security.web.context.SecurityContextPersistenceFilter@78feb2, org.springframework.security.web.header.HeaderWriterFilter@124c7da, org.springframework.security.web.csrf.CsrfFilter@146fb8c, org.springframework.security.web.authentication.logout.LogoutFilter@ceafeb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67a38, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@87787d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e24688, org.springframework.security.web.session.SessionManagementFilter@1443680, org.springframework.security.web.access.ExceptionTranslationFilter@1698e5a]
2017-10-16 02:24:44.967  WARN 7116 --- [main] .s.b.a.a.EndpointWebMvcAutoConfiguration : Could not start embedded management container on different port (management endpoints are still available through JMX)
2017-10-16 02:24:44.976  INFO 7116 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2017-10-16 02:24:44.977  INFO 7116 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2017-10-16 02:24:45.031  INFO 7116 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2017-10-16 02:24:45.052  INFO 7116 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2017-10-16 02:24:45.444  INFO 7116 --- [main] c.i.p.api.rest.AccountControllerTest     : Started AccountControllerTest in 16.731 seconds (JVM running for 18.259)
2017-10-16 02:24:45.782  INFO 7116 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-10-16 02:24:45.783  INFO 7116 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-10-16 02:24:45.822  INFO 7116 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 39 ms
2017-10-16 02:24:46.038  INFO 7116 --- [main] c.i.payment.api.rest.AccountController   : Rest request to create account : [AccountDTO : Name : Mahendra, balance : 7000.0] 
2017-10-16 02:24:46.038  INFO 7116 --- [main] c.i.payment.service.AccountService       : Saving account : [AccountDTO : Name : Mahendra, balance : 7000.0] to database.
2017-10-16 02:24:46.200  INFO 7116 --- [main] c.i.payment.api.rest.AccountController   : Rest request to get all accounts.
2017-10-16 02:24:46.201  INFO 7116 --- [main] c.i.payment.service.AccountService       : Fetching all accounts from database 
2017-10-16 02:24:46.242  INFO 7116 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-10-16 02:24:46.552  INFO 7116 --- [main] c.i.payment.service.AccountService       : All accounts present in database are : [Account [id=1, name=Mahendra, balance= 7000.0]] 
2017-10-16 02:24:46.681  INFO 7116 --- [main] c.i.p.s.validator.BusinessValidatorTest  : Test for unefficient  balance 
2017-10-16 02:24:46.690  INFO 7116 --- [main] c.i.p.s.validator.BusinessValidatorTest  : Test for unefficient  balance 
2017-10-16 02:24:46.693  INFO 7116 --- [main] c.i.p.s.validator.BusinessValidatorTest  : Test for enough balance  
2017-10-16 02:24:46.712  INFO 7116 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@c9d179: startup date [Mon Oct 16 02:24:29 IST 2017]; root of context hierarchy
2017-10-16 02:24:46.722  INFO 7116 --- [Thread-4] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2017-10-16 02:24:46.740  INFO 7116 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 02:24:46.741  INFO 7116 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 02:24:46.761 ERROR 7116 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000231: Schema export unsuccessful

org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-193]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:144) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1483) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1458) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:457) ~[h2-1.4.193.jar:1.4.193]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-8.5.16.jar:na]
	at com.sun.proxy.$Proxy91.getAutoCommit(Unknown Source) ~[na:na]
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:34) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:35) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:425) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:375) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:371) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1081) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:347) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:459) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:630) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at com.sun.proxy.$Proxy99.close(Unknown Source) [na:na]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:550) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:272) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.destroySingletons(FactoryBeanRegistrySupport.java:230) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1030) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1006) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext$2.run(AbstractApplicationContext.java:929) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]

2017-10-16 02:24:46.763  INFO 7116 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 02:58:32.200  INFO 6000 --- [main] c.i.p.api.rest.AccountControllerTest     : Starting AccountControllerTest on user with PID 6000 (started by samsung in I:\Mahendra\Projects\PaymentSystem)
2017-10-16 02:58:32.321  INFO 6000 --- [main] c.i.p.api.rest.AccountControllerTest     : The following profiles are active: test
2017-10-16 02:58:32.521  INFO 6000 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@c9d179: startup date [Mon Oct 16 02:58:32 IST 2017]; root of context hierarchy
2017-10-16 02:58:37.885  INFO 6000 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a7b096c7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2017-10-16 02:58:39.403  INFO 6000 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-10-16 02:58:39.448  INFO 6000 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-10-16 02:58:39.619  INFO 6000 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-10-16 02:58:39.622  INFO 6000 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-10-16 02:58:39.625  INFO 6000 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-10-16 02:58:39.717  INFO 6000 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-10-16 02:58:40.012  INFO 6000 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2017-10-16 02:58:41.987  INFO 6000 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 02:58:42.029  INFO 6000 --- [main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
2017-10-16 02:58:42.146  INFO 6000 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 02:58:44.087  INFO 6000 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.createAccount(com.ingenico.payment.domain.dto.AccountDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:58:44.089  INFO 6000 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account/transferAmount],methods=[POST],consumes=[application/json || application/xml],produces=[application/json || application/xml]}" onto public void com.ingenico.payment.api.rest.AccountController.transferBalance(com.ingenico.payment.domain.dto.TransfterInfoDTO,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:58:44.091  INFO 6000 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/ingenico/v1/account],methods=[GET],produces=[application/json || application/xml]}" onto public java.util.List<com.ingenico.payment.domain.dto.AccountDTO> com.ingenico.payment.api.rest.AccountController.getAccounts(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:58:44.094  INFO 6000 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/v2/api-docs],methods=[GET],produces=[application/json || application/hal+json]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)
2017-10-16 02:58:44.103  INFO 6000 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/ui]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2017-10-16 02:58:44.105  INFO 6000 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources]}" onto org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2017-10-16 02:58:44.106  INFO 6000 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/swagger-resources/configuration/security]}" onto org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2017-10-16 02:58:44.116  INFO 6000 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-10-16 02:58:44.117  INFO 6000 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-10-16 02:58:45.761  INFO 6000 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@c9d179: startup date [Mon Oct 16 02:58:32 IST 2017]; root of context hierarchy
2017-10-16 02:58:45.935  INFO 6000 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:58:45.935  INFO 6000 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:58:46.088  INFO 6000 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-10-16 02:58:47.032  INFO 6000 --- [main] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: b7923cfe-04d9-4fcb-a317-0024d723d480

2017-10-16 02:58:47.146  INFO 6000 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/css/**'], Ant [pattern='/js/**'], Ant [pattern='/images/**'], Ant [pattern='/webjars/**'], Ant [pattern='/**/favicon.ico'], Ant [pattern='/error']]], []
2017-10-16 02:58:47.146  INFO 6000 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.actuate.autoconfigure.ManagementWebSecurityAutoConfiguration$LazyEndpointPathRequestMatcher@1aa54f1, []
2017-10-16 02:58:47.281  INFO 6000 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.boot.autoconfigure.security.SpringBootWebSecurityConfiguration$ApplicationNoWebSecurityConfigurerAdapter$1@15b8730, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@93fb44, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f48198, org.springframework.security.web.header.HeaderWriterFilter@168eec6, org.springframework.security.web.csrf.CsrfFilter@107d96c, org.springframework.security.web.authentication.logout.LogoutFilter@1b650e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1698e5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d22ecf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@121c2a7, org.springframework.security.web.session.SessionManagementFilter@482ecd, org.springframework.security.web.access.ExceptionTranslationFilter@1d87b2d]
2017-10-16 02:58:48.816  WARN 6000 --- [main] .s.b.a.a.EndpointWebMvcAutoConfiguration : Could not start embedded management container on different port (management endpoints are still available through JMX)
2017-10-16 02:58:48.825  INFO 6000 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2017-10-16 02:58:48.826  INFO 6000 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2017-10-16 02:58:48.906  INFO 6000 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2017-10-16 02:58:48.930  INFO 6000 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2017-10-16 02:58:49.367  INFO 6000 --- [main] c.i.p.api.rest.AccountControllerTest     : Started AccountControllerTest in 18.35 seconds (JVM running for 27.229)
2017-10-16 02:58:49.773  INFO 6000 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-10-16 02:58:49.773  INFO 6000 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-10-16 02:58:49.822  INFO 6000 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 48 ms
2017-10-16 02:58:50.127  INFO 6000 --- [main] c.i.payment.api.rest.AccountController   : Rest request to create account : [AccountDTO : Name : Mahendra, balance : 7000.0] 
2017-10-16 02:58:50.128  INFO 6000 --- [main] c.i.payment.service.AccountService       : Saving account : [AccountDTO : Name : Mahendra, balance : 7000.0] to database.
2017-10-16 02:58:50.338  INFO 6000 --- [main] c.i.payment.api.rest.AccountController   : Rest request to get all accounts.
2017-10-16 02:58:50.339  INFO 6000 --- [main] c.i.payment.service.AccountService       : Fetching all accounts from database 
2017-10-16 02:58:50.387  INFO 6000 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-10-16 02:58:50.975  INFO 6000 --- [main] c.i.payment.service.AccountService       : All accounts present in database are : [Account [id=1, name=Mahendra, balance= 7000.0]] 
2017-10-16 02:58:51.062  INFO 6000 --- [main] c.i.p.s.validator.BusinessValidatorTest  : Test for unefficient  balance 
2017-10-16 02:58:51.076  INFO 6000 --- [main] c.i.p.s.validator.BusinessValidatorTest  : Test for unefficient  balance 
2017-10-16 02:58:51.077  INFO 6000 --- [main] c.i.p.s.validator.BusinessValidatorTest  : Test for enough balance  
2017-10-16 02:58:51.085  INFO 6000 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@c9d179: startup date [Mon Oct 16 02:58:32 IST 2017]; root of context hierarchy
2017-10-16 02:58:51.097  INFO 6000 --- [Thread-4] o.s.c.support.DefaultLifecycleProcessor  : Stopping beans in phase 2147483647
2017-10-16 02:58:51.118  INFO 6000 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-10-16 02:58:51.120  INFO 6000 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000227: Running hbm2ddl schema export
2017-10-16 02:58:51.138 ERROR 6000 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000231: Schema export unsuccessful

org.h2.jdbc.JdbcSQLException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-193]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:345) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:179) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:155) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.message.DbException.get(DbException.java:144) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1483) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1458) ~[h2-1.4.193.jar:1.4.193]
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:457) ~[h2-1.4.193.jar:1.4.193]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108) ~[tomcat-jdbc-8.5.16.jar:na]
	at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81) ~[tomcat-jdbc-8.5.16.jar:na]
	at com.sun.proxy.$Proxy91.getAutoCommit(Unknown Source) ~[na:na]
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:34) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.DatabaseExporter.<init>(DatabaseExporter.java:35) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.execute(SchemaExport.java:425) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:375) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tool.hbm2ddl.SchemaExport.drop(SchemaExport.java:371) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:1081) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.EntityManagerFactoryImpl.close(EntityManagerFactoryImpl.java:347) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_141]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_141]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_141]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_141]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:459) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:630) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at com.sun.proxy.$Proxy99.close(Unknown Source) [na:na]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:550) [spring-orm-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:272) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.destroySingletons(FactoryBeanRegistrySupport.java:230) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968) [spring-beans-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1030) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1006) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext$2.run(AbstractApplicationContext.java:929) [spring-context-4.3.10.RELEASE.jar:4.3.10.RELEASE]

2017-10-16 02:58:51.141  INFO 6000 --- [Thread-4] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
